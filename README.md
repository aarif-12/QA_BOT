ğŸ“„ RAG PDF Chatbot with OCR, OpenRouter GPT-4o & Local Embeddings

This project implements a Retrieval-Augmented Generation (RAG) chatbot that allows users to upload a PDF and query it in natural language. It uses OpenRouter GPT-4o as the LLM, HuggingFace local embeddings, and Chroma vector store for semantic search. If the PDF contains scanned images (no text), the system automatically falls back to OCR (Tesseract + Poppler) to extract text.

ğŸš€ Features

ğŸ“‚ Upload PDF â†’ Extracts text using direct parsing or OCR fallback.

ğŸ¤– RAG pipeline: Chunks â†’ Embeddings â†’ Chroma Vector DB â†’ Retriever â†’ GPT-4o Answer.

ğŸ” OCR support for scanned PDFs via Tesseract + Poppler.

ğŸ§  Local HuggingFace embeddings (all-MiniLM-L6-v2) to reduce API dependency.

ğŸ’¬ OpenRouter GPT-4o for high-quality natural language responses.

ğŸ–¥ï¸ Gradio UI for easy interaction.

âš¡ Auto-port detection â†’ If 7860 is in use, it finds another free port.

âš™ï¸ Tech Stack

LangChain (for RAG pipeline)

ChromaDB (vector database)

HuggingFace Sentence Transformers (local embeddings)

OpenRouter GPT-4o (LLM via API)

Tesseract OCR + Poppler (for scanned PDFs)

Gradio (frontend interface)

Python

ğŸ› ï¸ Setup & Installation
1. Clone the Repository
git clone https://github.com/aarif-12/QA_BOT/blob/main/qabot.py
cd rag-pdf-chatbot

2. Create & Activate Virtual Environment
python -m venv venv
source venv/bin/activate   # Linux/Mac
venv\Scripts\activate      # Windows

3. Install Dependencies
pip install -r requirements.txt

4. Install System Dependencies for OCR

Poppler:

Windows: Download from Poppler for Windows
 and update poppler_path in code.

Linux (Ubuntu/Debian):

sudo apt install poppler-utils


Mac (Homebrew):

brew install poppler


Tesseract OCR:

Windows: Download from Tesseract
.

Linux (Ubuntu/Debian):

sudo apt install tesseract-ocr


Mac:

brew install tesseract

5. Configure API Key

Set your OpenRouter API key in the code:

OPENROUTER_KEY = "your-openrouter-api-key"


Or better, store it in a .env file (recommended):

OPENROUTER_KEY=your-openrouter-api-key

â–¶ï¸ Running the App
python app.py


The app will start on an available port (default: 7860). Open in browser:

http://localhost:7860

ğŸ“Œ Usage

Upload a PDF (normal or scanned).

Ask a question related to the document.

Get an answer generated by GPT-4o based on retrieved chunks.

ğŸ“‚ Project Structure
â”œâ”€â”€ app.py               # Main application
â”œâ”€â”€ requirements.txt      # Dependencies
â”œâ”€â”€ README.md             # Documentation
â””â”€â”€ .gitignore            # Ignore unnecessary files

âš ï¸ Notes

For scanned PDFs, ensure Tesseract + Poppler are installed correctly.

API usage depends on OpenRouter GPT-4o credits.

Always keep your API key safe (use .env + .gitignore).

ğŸ“œ License

MIT License â€“ free to use and modify.
